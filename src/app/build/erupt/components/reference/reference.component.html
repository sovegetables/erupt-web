<nz-input-group [nzSize]="size" class="erupt-input" [nzAddOnAfter]="readonly?null:refBtn">
    <input nz-input [nzSize]="size"
           [required]="field.eruptFieldJson.edit.notNull"
           [disabled]="readonly"
           [placeholder]="field.eruptFieldJson.edit.placeHolder"
           [(ngModel)]="field.eruptFieldJson.edit.$viewValue"
           (ngModelChange)="onChange($event)"
           (keydown)="enterEvent($event)"
           [nzAutocomplete]="auto"
           [name]="field.fieldName">
</nz-input-group>
<ng-template #refBtn>
    <ng-container *ngIf="field.eruptFieldJson.edit.$value">
        <i nz-icon nzType="close-circle" theme="fill" class="point"
           (click)="clearReferValue(field)"></i>
    </ng-container>
    <ng-container *ngIf="!field.eruptFieldJson.edit.$value">
        <span style="cursor: pointer" nz-icon (click)="createReferenceModal(field)" nzType="search" nzTheme="outline"></span>
    </ng-container>
</ng-template>
<nz-autocomplete (selectionChange)="onSelectionChange($event)" #auto>
    <nz-auto-option class="global-search-item" *ngFor="let option of autoCompleteOptions" [nzValue]="option.id" [nzLabel]="option.value">
        {{ option.value }}
    </nz-auto-option>
</nz-autocomplete>

